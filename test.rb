require 'jsonpath'

json = <<-HERE_DOC
{"pageSize":25,"pageNumber":1,"total":7,"entities":[{"id":"6a3af858-942f-489d-9700-5f9bcdcdae9b","languageLabels":{"en_US":"Available"},"systemPresence":"Available","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/6a3af858-942f-489d-9700-5f9bcdcdae9b"},{"id":"31fe3bac-dea6-44b7-bed7-47f91660a1a0","languageLabels":{"en_US":"Busy"},"systemPresence":"Busy","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/31fe3bac-dea6-44b7-bed7-47f91660a1a0"},{"id":"5e5c5c66-ea97-4e7f-ac41-6424784829f2","languageLabels":{"en_US":"Away"},"systemPresence":"Away","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/5e5c5c66-ea97-4e7f-ac41-6424784829f2"},{"id":"3e36d2b0-1f1e-4a65-b55e-c24bf6e2273f","languageLabels":{"en_US":"Out Of Office"},"systemPresence":"Out of Office","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/3e36d2b0-1f1e-4a65-b55e-c24bf6e2273f"},{"id":"ccf3c10a-aa2c-4845-8e8d-f59fa48c58e5","languageLabels":{"en_US":"Offline"},"systemPresence":"Offline","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/ccf3c10a-aa2c-4845-8e8d-f59fa48c58e5"},{"id":"e08eaf1b-ee47-4fa9-a231-1200e284798f","languageLabels":{"en_US":"On Queue"},"systemPresence":"On Queue","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-10T17:43:57.020Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-10T17:43:57.020Z","selfUri":"/api/v2/presencedefinitions/e08eaf1b-ee47-4fa9-a231-1200e284798f"},{"id":"7ffa01cd-7866-4ad7-8faa-31e11b42f51f","languageLabels":{"en_US":"Idle"},"systemPresence":"Idle","deactivated":false,"createdBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"createdDate":"2015-08-24T13:53:13.833Z","modifiedBy":{"id":"ccdbe9f9-8117-448d-b516-d124581b9b4c","selfUri":"/api/v2/users/ccdbe9f9-8117-448d-b516-d124581b9b4c"},"modifiedDate":"2015-08-24T13:53:13.833Z","selfUri":"/api/v2/presencedefinitions/7ffa01cd-7866-4ad7-8faa-31e11b42f51f"}],"selfUri":"/api/v2/presencedefinitions?pageSize=25&pageNumber=1","lastUri":"/api/v2/presencedefinitions?pageSize=25&pageNumber=1","firstUri":"/api/v2/presencedefinitions?pageSize=25&pageNumber=1","pageCount":1}
HERE_DOC

puts json

path = JsonPath.new('$entities[0].id')
puts path.on(json)
